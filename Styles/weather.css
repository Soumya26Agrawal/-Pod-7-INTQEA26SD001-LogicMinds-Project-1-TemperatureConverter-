/* ===== LAYOUT ===== */
.weather-layout {
  max-width: 1200px;
  margin: 0 auto;
  padding: 60px 24px 40px;
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: 28px;
  align-items: start;
}

.weather-col-left {
  display: flex;
  flex-direction: column;
  gap: 28px;
  min-width: 0;
}

.weather-col-right {
  position: sticky;
  top: 88px;
  max-height: calc(100vh - 100px);
  overflow-y: auto;
}

.weather-card--history { padding: 20px; }

@media (max-width: 900px) {
  .weather-layout { grid-template-columns: 1fr; max-width: 600px; }
  .weather-col-right { position: static; max-height: none; overflow-y: visible; }
}

/* ===== CARD ===== */
.weather-card {
  background: #fff;
  border: 1px solid #E5E7EB;
  border-radius: 16px;
  padding: 32px;
}

.weather-card__title {
  font-size: 1.4rem;
  font-weight: 700;
  color: #111827;
  margin-bottom: 24px;
}

/* ===== FORM ===== */
.weather-form { display: flex; flex-direction: column; gap: 20px; }

.form-group { display: flex; flex-direction: column; gap: 6px; }

.form-group label { font-size: 0.85rem; font-weight: 600; color: #6B7280; }

.form-group select {
  padding: 10px 14px;
  font-size: 0.95rem;
  font-family: inherit;
  color: #111827;
  background: #F9FAFB;
  border: 1px solid #E5E7EB;
  border-radius: 10px;
  outline: none;
  cursor: pointer;
}
.form-group select:focus { border-color: #2563EB; }

/* ===== BUTTONS ===== */
.btn-continue {
  align-self: flex-start;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 14px 28px;
  font-size: 1rem;
  font-weight: 700;
  font-family: inherit;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #fff;
  background: #2563EB;
  border: 2px solid #2563EB;
  border-radius: 12px;
  cursor: pointer;
}
.btn-continue:hover { background: #1D4ED8; border-color: #1D4ED8; }

.btn-chart {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 10px 22px;
  font-size: 0.88rem;
  font-weight: 700;
  font-family: inherit;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: #fff;
  background: #2563EB;
  border: 2px solid #2563EB;
  border-radius: 10px;
  cursor: pointer;
  white-space: nowrap;
}
.btn-chart:hover { background: #1D4ED8; border-color: #1D4ED8; }

/* ===== MODAL ===== */
.modal-overlay {
  position: fixed;
  inset: 0;
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.5);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s, visibility 0.3s;
}
.modal-overlay.active { opacity: 1; visibility: visible; }

.modal {
  position: relative;
  background: #fff;
  border-radius: 24px;
  width: 620px;
  max-width: 94vw;
  padding: 0;
  box-shadow: 0 24px 80px rgba(0, 0, 0, 0.22);
  overflow: hidden;
}

.modal-close {
  position: absolute;
  top: 16px;
  right: 18px;
  width: 36px;
  height: 36px;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  color: rgba(255, 255, 255, 0.8);
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  cursor: pointer;
}
.modal-close:hover { background: rgba(255, 255, 255, 0.3); color: #fff; }

/* ===== TEMP HERO (modal header) ===== */
.temp-hero {
  position: relative;
  width: 100%;
  min-height: 280px;
  border-radius: 24px 24px 0 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #3b82f6, #6366f1);
}

.temp-hero__canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.temp-hero__inner {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 36px 24px;
  gap: 16px;
}

.temp-hero__content { text-align: center; color: #fff; flex: 1; min-width: 0; }
.temp-hero__anim { flex-shrink: 0; display: flex; align-items: center; justify-content: center; }

.temp-hero__city { font-size: 1.15rem; font-weight: 600; opacity: 0.9; margin-bottom: 2px; }
.temp-hero__condition { font-size: 0.92rem; font-weight: 500; opacity: 0.75; margin-bottom: 10px; }
.temp-hero__deg { font-size: 6rem; font-weight: 800; line-height: 1; letter-spacing: -3px; margin: 0; }
.temp-hero__feels { font-size: 0.88rem; font-weight: 500; opacity: 0.65; margin-top: 8px; }

/* ===== WEATHER THEME GRADIENTS (shared by modal & history cards) ===== */
.temp-hero.theme-clear,
.history-card__hero.theme-clear {
  background: linear-gradient(135deg, #f59e0b, #f97316, #ea580c);
}
.temp-hero.theme-clouds,
.history-card__hero.theme-clouds {
  background: linear-gradient(135deg, #64748b, #94a3b8, #475569);
}
.temp-hero.theme-rain,
.history-card__hero.theme-rain {
  background: linear-gradient(135deg, #1e3a5f, #2563eb, #334155);
}
.temp-hero.theme-storm,
.history-card__hero.theme-storm {
  background: linear-gradient(135deg, #1e1b4b, #312e81, #0f172a);
}
.temp-hero.theme-snow,
.history-card__hero.theme-snow {
  background: linear-gradient(135deg, #bfdbfe, #93c5fd, #7dd3fc);
}
.temp-hero.theme-snow .temp-hero__content,
.history-card__hero.theme-snow { color: #1e3a5f; }
.temp-hero.theme-mist,
.history-card__hero.theme-mist {
  background: linear-gradient(135deg, #9ca3af, #d1d5db, #6b7280);
}

/* ===== STAT STRIP (modal footer) ===== */
.stat-strip {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  padding: 20px 24px 24px;
  background: #fff;
}

.mini-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 12px 6px;
}

.mini-stat__val { font-size: 1rem; font-weight: 700; color: #111827; }
.mini-stat__lbl { font-size: 0.68rem; font-weight: 600; text-transform: uppercase; color: #9CA3AF; }

@media (max-width: 560px) {
  .temp-hero { min-height: 220px; }
  .temp-hero__deg { font-size: 4.5rem; }
  .temp-hero__inner { flex-direction: column; gap: 8px; padding: 24px 16px; }
  .temp-hero__anim dotlottie-wc { width: 150px !important; height: 150px !important; }
  .stat-strip { grid-template-columns: repeat(3, 1fr); gap: 8px; }
}

/* ===== HISTORY LIST ===== */
.history-list { display: flex; flex-direction: column; gap: 14px; }

.history-card {
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  overflow: hidden;
}

.history-card__hero {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 14px;
  background: linear-gradient(135deg, #3b82f6, #6366f1);
  color: #fff;
  gap: 8px;
}

.history-card__info { flex: 1; min-width: 0; }
.history-card__city { font-size: 0.82rem; font-weight: 700; opacity: 0.95; margin: 0 0 1px; }
.history-card__condition { font-size: 0.68rem; font-weight: 500; opacity: 0.7; margin: 0 0 4px; text-transform: capitalize; }
.history-card__temp { font-size: 1.6rem; font-weight: 800; line-height: 1; letter-spacing: -1px; margin: 0; }
.history-card__feels { font-size: 0.65rem; font-weight: 500; opacity: 0.6; margin: 3px 0 0; }
.history-card__lottie { flex-shrink: 0; }
.history-card__lottie dotlottie-wc { width: 60px !important; height: 60px !important; }

.history-card__stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  padding: 6px 8px;
  background: #fff;
}

.history-card__stat { display: flex; flex-direction: column; align-items: center; gap: 1px; padding: 4px 2px; }
.history-card__stat-val { font-size: 0.7rem; font-weight: 700; color: #111827; }
.history-card__stat-lbl { font-size: 0.52rem; font-weight: 600; text-transform: uppercase; color: #9CA3AF; }

/* ===== CHART CONTROLS ===== */
.chart-controls { display: flex; align-items: flex-end; gap: 12px; margin-bottom: 20px; flex-wrap: wrap; }
.chart-controls__field { display: flex; flex-direction: column; gap: 4px; min-width: 140px; }
.chart-controls__field label { font-size: 0.78rem; font-weight: 600; color: #6B7280; }
.chart-controls__field select {
  padding: 8px 12px;
  font-size: 0.88rem;
  font-family: inherit;
  color: #111827;
  background: #F9FAFB;
  border: 1px solid #E5E7EB;
  border-radius: 10px;
  outline: none;
  cursor: pointer;
}
.chart-controls__field select:focus { border-color: #2563EB; }

@media (max-width: 480px) {
  .chart-controls { flex-direction: column; align-items: stretch; }
  .btn-chart { width: 100%; justify-content: center; }
}

/* ===== TOAST ===== */
.toast-overlay {
  position: fixed;
  inset: 0;
  z-index: 300;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.35);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.25s, visibility 0.25s;
}
.toast-overlay.active { opacity: 1; visibility: visible; }

.toast-box {
  background: #fff;
  border-radius: 18px;
  padding: 32px 28px 24px;
  width: 360px;
  max-width: 90vw;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);
}

.toast-icon { font-size: 2.4rem; margin-bottom: 12px; line-height: 1; }
.toast-msg { font-size: 1rem; font-weight: 500; color: #374151; margin: 0 0 20px; line-height: 1.5; }

.toast-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 32px;
  font-size: 0.95rem;
  font-weight: 700;
  font-family: inherit;
  color: #fff;
  background: #2563EB;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}
.toast-btn:hover { background: #1D4ED8; }
