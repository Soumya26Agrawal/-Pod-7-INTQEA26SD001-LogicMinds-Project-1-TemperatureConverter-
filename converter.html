<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LogicMinds · Temperature Converter</title>
  <meta name="description" content="Convert between Celsius, Fahrenheit, and Kelvin with a clean UI and compact, non-overflowing thermometer.">
  <style>
    :root{
      --brand: #2563EB;          
      --brand-strong: #1D4ED8;   
      --brand-soft: #EBF1FE;     
      --ink: #0F172A;            
      --ink-2: #334155;          
      --muted: #64748B;          
      --line: #E5E7EB;           
      --card: #FFFFFF;
      --page: #F8FAFC;           
      --shadow: 0 10px 30px rgba(2,6,23,.08);
      --radius: 14px;
      --focus: rgba(37, 99, 235, .25);
      --danger: #E11D48;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: var(--ink);
      background: var(--page);
    }

    nav.navbar {
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 40px;
      height: 64px;
      border-bottom: 1px solid var(--line);
      backdrop-filter: blur(8px);
      background-color: rgba(255, 255, 255, .92);
    }
    .logo { display: flex; align-items: center; gap: 10px; text-decoration: none; }
    .logo-text {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--brand);
      letter-spacing: -0.3px;
    }
    .nav-links { display: flex; gap: 8px; list-style: none; padding: 0; margin: 0; }
    .nav-link {
      padding: 6px 16px;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 500;
      color: #6B7280;
      text-decoration: none;
    }
    .nav-link:hover { background-color: var(--brand-soft); color: var(--brand); }
    .nav-link.active { background-color: var(--brand-soft); color: var(--brand); }

    /* ========== Footer ========== */
    /* .footer {
      border-top: 1px solid var(--line);
      background: #fff;
      margin-top: 40px;
    }
    .footer-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: var(--muted);
      flex-wrap: wrap;
      gap: 10px;
    }
    .footer-brand span { font-weight: 800; color: var(--brand-strong); } */

    /* Main Layout */
    .wrapper {
      max-width: 1100px;
      margin: 0 auto;
      padding: 28px 16px 40px;
      display: grid;
      gap: 20px;
    }

    .page-heading {
      margin: 24px 0 0;
    }
    .page-heading h1 {
      margin: 0;
      font-size: clamp(1.6rem, 3.2vw, 2.2rem);
      letter-spacing: .2px;
    }

    .grid {
      display: grid;
      gap: 20px;
      grid-template-columns: 1.15fr 0.85fr;
      align-items: start;
      margin-top: 12px; 
    }
    @media (max-width: 900px){ .grid { grid-template-columns: 1fr; } }

    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }

    /*Converter Form*/
    .form { display: grid; gap: 14px; }
    .field { display: grid; gap: 6px; }
    label { font-weight: 800; color: var(--ink); }

    .input-wrap { position: relative; }
    input[type="text"] {
      width: 100%;
      padding: 12px 12px;
      background: #fff;
      border: 1px solid var(--line);
      color: var(--ink);
      font-size: 1.02rem;
      border-radius: 12px;
      transition: box-shadow .2s ease, border-color .2s ease;
    }
    input[type="text"]:focus { outline: none; border-color: #bfdbfe; box-shadow: 0 0 0 6px var(--focus); }
    input.locked {
      background: #f3f6fd; color: #6b7280; cursor: not-allowed; border-style: dashed;
    }

    .row { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 6px; }
    .btn {
      appearance: none; border: none; cursor: pointer;
      padding: 12px 16px; border-radius: 12px; font-weight: 800; letter-spacing: .2px;
      box-shadow: var(--shadow); background: var(--brand); color: #fff;
      text-decoration: none;
    }
    .btn.secondary { background: #fff; color: var(--brand-strong); border: 1px solid #bfdbfe; }
    .btn.ghost { background: transparent; color: var(--brand-strong); border: 1px dashed #bfdbfe; }
    .btn:active { transform: translateY(1px); }

    .thermo { display: grid; grid-template-rows: auto 1fr; gap: 8px; height: 100%; }
    .thermo-title { font-weight: 800; letter-spacing: .3px; }
    .thermo-body { display: grid; place-items: center; padding: 4px 0 8px; overflow: hidden; }
    .thermo-wrap {
      width: min(140px, 70%); aspect-ratio: 1 / 2.4;
      position: relative; margin-inline: auto;
      display: grid; place-items: center; overflow: hidden;
    }
    @media (max-width: 520px) { .thermo-wrap { width: 120px; aspect-ratio: 1 / 2.6; } }

    .glass {
      position: absolute; inset: 0; border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.9));
      border: 1px solid var(--line); overflow: hidden; box-shadow: inset 0 0 0 2px rgba(2,6,23,.03);
    }
    .inner {
      position: absolute; left: 10px; right: 10px; top: 10px; bottom: 10px;
      border-radius: 999px; overflow: hidden; background: transparent;
    }
    /* height-based mercury fill */
    .mercury {
      --level: 40%; --h: 220;
      position: absolute; left: 0; right: 0; bottom: 0;
      height: var(--level);
      border-bottom-left-radius: 999px; border-bottom-right-radius: 999px;
      background: linear-gradient(180deg, hsl(var(--h) 92% 60%), hsl(calc(var(--h) - 35) 92% 52%));
      transition: height .35s cubic-bezier(.2,.8,.2,1), background .35s ease;
    }
    .ticks { position: absolute; inset: 10px; display: grid; grid-template-rows: repeat(8, 1fr); pointer-events: none; }
    .ticks span { border-top: 1px dashed #e8eef9; }

    .legend { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-top: 10px; }
    .legend div {
      background: var(--brand-soft); border: 1px solid #e5edff; color: var(--ink-2);
      border-radius: 10px; padding: 6px 8px; text-align: center; font-weight: 700; letter-spacing: .3px; font-size: .92rem;
    }

    .modal {
      position: fixed; inset: 0; display: grid; place-items: center;
      background: rgba(15,23,42,.35);
      opacity: 0; pointer-events: none; transition: opacity .2s ease;
      padding: 16px; z-index: 400;
    }
    .modal.show { opacity: 1; pointer-events: auto; }
    .dialog {
      width: min(520px, 96%); background: #fff; color: var(--ink);
      border: 1px solid var(--line); border-radius: 14px; box-shadow: var(--shadow);
      padding: 16px;
    }
    .dialog h3 { margin: 0 0 6px; font-size: 1.1rem; }
    .dialog p { margin: 0 0 14px; color: var(--muted); }
    .dialog .actions { display: flex; gap: 10px; justify-content: flex-end; flex-wrap: wrap; }
    .dialog .actions button { padding: 10px 14px; border-radius: 10px; font-weight: 800; }
    .dialog .actions .primary { background: var(--brand); color: #fff; border: none; }
    .dialog .actions .secondary { background: #fff; border: 1px solid #bfdbfe; color: var(--brand-strong); }

    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .footer {
  padding: 28px 40px;
  border-top: 1px solid #E5E7EB;
}
 
.footer-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 1000px;
  margin: 0 auto;
}
 
.footer-brand {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 700;
  font-size: 0.95rem;
  color: #2563EB;
}
 
.footer-brand svg {
  width: 28px;
  height: 28px;
}
 
.footer p {
  font-size: 0.90rem;
  color: #6B7280;
}
#resetBtn {
  display: none !important;
}

  </style>
</head>
<body>
  <nav class="navbar">
    <a href="index.html" class="logo">
      <span class="logo-text">LogicMinds.</span>
    </a>
    <ul class="nav-links">
      <li><a href="index.html" class="nav-link">Home</a></li>
      <li><a href="converter.html" class="nav-link active">Converter</a></li>
      <li><a href="weather.html" class="nav-link">Weather</a></li>
    </ul>
  </nav>
  <main class="wrapper">
    <header class="page-heading">
      <h1>Temperature Converter</h1>
    </header>

    <div class="grid">
      <section class="card" aria-labelledby="formTitle">
        <h2 id="formTitle" class="sr-only">Conversion Form</h2>
        <form class="form" id="tempForm" novalidate>
          <!-- Celsius -->
          <div class="field">
            <label for="celsius">Celsius (°C)</label>
            <div class="input-wrap" data-wrap="c">
              <input id="celsius" type="text" inputmode="decimal" placeholder="e.g., 25" autocomplete="off" />
            </div>
          </div>
          <!-- Fahrenheit -->
          <div class="field">
            <label for="fahrenheit">Fahrenheit (°F)</label>
            <div class="input-wrap" data-wrap="f">
              <input id="fahrenheit" type="text" inputmode="decimal" placeholder="e.g., 77" autocomplete="off" />
            </div>
          </div>
          <!-- Kelvin -->
          <div class="field">
            <label for="kelvin">Kelvin (K)</label>
            <div class="input-wrap" data-wrap="k">
              <input id="kelvin" type="text" inputmode="decimal" placeholder="e.g., 298.15" autocomplete="off" />
            </div>
          </div>

          <div class="row">
            <button type="submit" class="btn" id="calcBtn">Calculate</button>
            <button type="button" class="btn secondary" id="resetBtn">Reset</button>
            <button type="button" class="btn ghost" id="enterAgainBtn" title="Clear everything and focus the first field">Enter Again</button>
          </div>
        </form>
      </section>

      <!-- Right: Thermometer -->
      <aside class="card" aria-labelledby="thermoTitle">
        <div class="thermo">
          <div class="thermo-title" id="thermoTitle">Thermometer</div>
          <div class="thermo-body">
            <div class="thermo-wrap">
              <div class="glass">
                <div class="inner">
                  <div class="mercury" id="mercury"></div>
                </div>
                <div class="ticks" aria-hidden="true">
                  <span></span><span></span><span></span><span></span>
                  <span></span><span></span><span></span><span></span>
                </div>
              </div>
            </div>
            <div class="legend" aria-hidden="true">
              <div id="legendK">K —</div>
              <div id="legendC">°C —</div>
              <div id="legendF">°F —</div>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <!--FOOTER -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-brand"><span>LogicMinds.</span></div>
      <p>© <span id="year"></span> LogicMinds. All rights reserved.</p>
    </div>
  </footer>

  <div class="modal" id="promptModal" aria-hidden="true" aria-labelledby="promptTitle" role="dialog">
    <div class="dialog" role="document">
      <h3 id="promptTitle">Switch input?</h3>
      <p id="promptMsg">You already started entering <strong>Kelvin</strong>. Do you want to switch to <strong>Celsius</strong> instead?</p>
      <div class="actions">
        <button class="secondary" id="promptCancel" type="button">Cancel</button>
        <button class="primary" id="promptConfirm" type="button">OK</button>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const $  = (s, r=document) => r.querySelector(s);
      const $$ = (s, r=document) => [...r.querySelectorAll(s)];
      $('#year').textContent = new Date().getFullYear();
      const cIn = $('#celsius'), fIn = $('#fahrenheit'), kIn = $('#kelvin');
      const form = $('#tempForm');
      const mercury = $('#mercury');
      const legendK = $('#legendK'), legendC = $('#legendC'), legendF = $('#legendF');

      const modal = $('#promptModal');
      const promptTitle = $('#promptTitle'), promptMsg = $('#promptMsg');
      const promptCancel = $('#promptCancel'), promptConfirm = $('#promptConfirm');

      function showModal({title, html, mode='confirm', onConfirm=null}){
        promptTitle.textContent = title;
        promptMsg.innerHTML = html;
        if(mode === 'info'){
          promptCancel.style.display = 'none';
          promptConfirm.textContent = 'OK';
        } else {
          promptCancel.style.display = '';
          promptConfirm.textContent = 'Switch';
        }
        modal.classList.add('show');
        const clean = () => {
          modal.classList.remove('show');
          promptConfirm.onclick = null;
          promptCancel.onclick = null;
        };
        promptCancel.onclick = clean;
        promptConfirm.onclick = () => { if(onConfirm) onConfirm(); clean(); };
        document.addEventListener('keydown', function esc(e){ if(e.key==='Escape'){ clean(); document.removeEventListener('keydown', esc);} });
      }

      // State
      let lock = null;             // 'c' | 'f' | 'k' | null
      let pendingSwitchTo = null;  // set when user clicks read-only field
      const fields = { c: cIn, f: fIn, k: kIn };

      // Helpers
      const isNumeric = (v) => /^[-+]?(\d+(\.\d+)?|\.\d+)$/.test(v);
      const round = (n, d=2) => Number.isFinite(n) ? parseFloat(n.toFixed(d)) : NaN;
      const fmt = (n) => Number.isFinite(n) ? round(n, 2) : '';
      const labelOf = (k) => k === 'c' ? 'Celsius' : k === 'f' ? 'Fahrenheit' : 'Kelvin';

      const updateLegend = (c=null, f=null, k=null) => {
        legendC.textContent = `°C ${Number.isFinite(c) ? fmt(c) : '—'}`;
        legendF.textContent = `°F ${Number.isFinite(f) ? fmt(f) : '—'}`;
        legendK.textContent = `K ${Number.isFinite(k) ? fmt(k) : '—'}`;
      };

      const animateThermo = (celsius) => {
        const minC = -50, maxC = 150;           
        let level = 40, hue = 220;
        if (typeof celsius === 'number' && Number.isFinite(celsius)) {
          const t = Math.max(0, Math.min(1, (celsius - minC)/(maxC - minC)));
          level = 12 + 76 * t;                  
          hue = Math.round(220 - 220 * t);      
        }
        mercury.style.setProperty('--level', level + '%');
        mercury.style.setProperty('--h', String(hue));
      };

      // Conversions
      const fromCelsius     = (c) => ({ f: c * 9/5 + 32, k: c + 273.15 });
      const fromFahrenheit  = (f) => { const c = (f - 32) * 5/9; return { c, k: c + 273.15 }; };
      const fromKelvin      = (k) => { const c = k - 273.15;       return { c, f: c * 9/5 + 32 }; };

      // Locking
      function applyLock(source) {
        lock = source;
        Object.entries(fields).forEach(([key, el]) => {
          const isLocked = key !== source;
          el.readOnly = isLocked;
          el.classList.toggle('locked', isLocked);
          el.setAttribute('aria-disabled', isLocked ? 'true' : 'false');
        });
      }
      function releaseLock() {
        lock = null;
        Object.values(fields).forEach(el => {
          el.readOnly = false;
          el.classList.remove('locked');
          el.setAttribute('aria-disabled', 'false');
        });
      }

      [['c',cIn],['f',fIn],['k',kIn]].forEach(([key, el]) => {
        el.addEventListener('input', () => {
          const val = el.value.trim();
          if (!lock && val !== '') {
            applyLock(key);
          }
          if (lock === key && val === '') {
            if (key !== 'c') cIn.value = '';
            if (key !== 'f') fIn.value = '';
            if (key !== 'k') kIn.value = '';
            releaseLock();
            updateLegend();
            animateThermo(null);
          }
        });
        const wrap = document.querySelector(`.input-wrap[data-wrap="${key}"]`);
        wrap.addEventListener('pointerdown', (e) => {
          if (lock && lock !== key) {
            e.preventDefault();
            pendingSwitchTo = key;
            showModal({
              title: 'Switch input?',
              html: `You already started entering <strong>${labelOf(lock)}</strong>. Switch to <strong>${labelOf(key)}</strong>?`,
              mode: 'confirm',
              onConfirm: () => {
                cIn.value = fIn.value = kIn.value = '';
                applyLock(pendingSwitchTo);
                fields[pendingSwitchTo].focus();
                updateLegend();
                animateThermo(null);
                pendingSwitchTo = null;
              }
            });
          }
        });
      });

      function hardReset(focusFirst=true){
        cIn.value = fIn.value = kIn.value = '';
        releaseLock();
        updateLegend();
        animateThermo(null);
        if (focusFirst) cIn.focus();
      }
      $('#resetBtn').addEventListener('click', () => hardReset(false));
      $('#enterAgainBtn').addEventListener('click', () => hardReset(true));

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const cVal = cIn.value.trim();
        const fVal = fIn.value.trim();
        const kVal = kIn.value.trim();

        const nonEmpty = [cVal!=='' , fVal!=='' , kVal!=='' ].filter(Boolean).length;
        if (nonEmpty > 1) {
          showModal({ title: 'Multiple inputs detected', html: 'Please use only <strong>one</strong> input field at a time.', mode: 'info' });
          return;
        }
        if (nonEmpty === 0) {
          showModal({ title: 'No value', html: 'Please enter a value in any one field to convert.', mode: 'info' });
          return;
        }
        let sourceKey = lock;
        if (!sourceKey) {
          if (cVal) sourceKey = 'c';
          else if (fVal) sourceKey = 'f';
          else if (kVal) sourceKey = 'k';
          applyLock(sourceKey);
        }

        let c, f, k;

        if (sourceKey === 'c') {
          if (!isNumeric(cVal)) return showModal({ title:'Invalid Celsius', html:'Please enter a valid number (decimals allowed).', mode:'info' });
          c = parseFloat(cVal);
          ({ f, k } = fromCelsius(c));
          if (k < 0) return showModal({ title:'Below absolute zero', html:'Celsius must be ≥ −273.15 (0 K).', mode:'info' });
          cIn.value = fmt(c); fIn.value = fmt(f); kIn.value = fmt(k);
        }
        else if (sourceKey === 'f') {
          if (!isNumeric(fVal)) return showModal({ title:'Invalid Fahrenheit', html:'Please enter a valid number (decimals allowed).', mode:'info' });
          f = parseFloat(fVal);
          const out = fromFahrenheit(f); c = out.c; k = out.k;
          if (k < 0) return showModal({ title:'Below absolute zero', html:'This Fahrenheit value results in negative Kelvin (not allowed).', mode:'info' });
          cIn.value = fmt(c); fIn.value = fmt(f); kIn.value = fmt(k);
        }
        else if (sourceKey === 'k') {
          if (!isNumeric(kVal)) return showModal({ title:'Invalid Kelvin', html:'Please enter a valid number (decimals allowed).', mode:'info' });
          k = parseFloat(kVal);
          if (k < 0) return showModal({ title:'Kelvin cannot be negative', html:'Please enter K ≥ 0.', mode:'info' });
          const out = fromKelvin(k); c = out.c; f = out.f;
          cIn.value = fmt(c); fIn.value = fmt(f); kIn.value = fmt(k);
        }

        updateLegend(c, f, k);
        animateThermo(c);
      });

      [cIn, fIn, kIn].forEach(el => {
        el.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            $('#calcBtn').click();
          }
        });
      });
      releaseLock();
      updateLegend();
      animateThermo(null);
    })();
  </script>
</body>
</html>